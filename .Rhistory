group_by(Date, category) %>%
summarise(time_spent = sum(hours, na.rm = T))
write_csv(trend_type, "data_transformed/trend_type.csv")
overall_deep_work_score <- daily_all %>%
summarise(total_avail = sum(avail_time, na.rm = T),
total_focus = sum(hours_in_day, na.rm = T),
focus_score = total_focus / total_avail)
write_csv(overall_deep_work_score, "data_transformed/deep_work_score.csv")
# Deep Work quantity by day
ggplot(data = trend_type %>%
select(Date, time_spent) %>%
group_by(Date) %>%
summarise(total_per_day = sum(time_spent)), aes(x = Date, y = total_per_day)) +
geom_point() +
geom_smooth()
# Density
ggplot(data = d, aes(x = hours, fill = category)) +
geom_density(alpha = 0.2)
ggplot(data = daily, aes(x = category, y = hours_in_day, col = category)) +
geom_boxplot(alpha = 0.5) +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5)) +
coord_flip()
ggplot(data = daily_all, aes(x = hours_in_day)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
# Look at effective use of time
ggplot(data = daily_all, aes(x = focused_prop)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
# Trend of focus % over time - am I getting better or worse??
ggplot(data = daily_all, aes(x = Date, y = focused_prop)) +
geom_point() +
geom_smooth() +
theme_minimal()
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal()
View(daily_all)
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal() +
facet_wrap(~ category, nrow = 3)
View(daily)
weekly <- daily
weekly <- weekly %>%
mutate(week_no = as.integer(Date))
View(weekly)
i <- weekly %>%
group_indices(Date)
weekly <- daily
i <- weekly %>% group_indices(Date)
i <- weekly %>% group_indices(weekly$Date)
# TODO - create time of day variable
library(here)
library(tidyverse)
library(padr)
d <- read_csv(here("/data_raw/BeFocused.csv"))
str(d)
d <- d[-1, ]
d <- d %>%
filter(`Assigned task` != "Other")
head(d$`Start date`)
d$date_full <- d$`Start date`
d <- d %>%
separate(date_full, into = c('Date', 'Time'), sep = 11)
d$Date <- as.Date(d$Date, format = "%d %b %Y")
d$hours <- d$Duration / 60
# Gather tasks into categories
unique(d$`Assigned task`)
d$category <- ifelse(d$`Assigned task` %in% c("YABP", "Experiment In Art", "Summoner Of Games", "Data Science Explorer", "YABP", "RPG Prep", "Correspondance"), "Craft",
ifelse(d$`Assigned task` == "P.S Work High Value", "Work",
ifelse(d$`Assigned task` == "Wealth", "Wealth",
ifelse(d$`Assigned task` == "Study", "Study", "Other"))))
weekly <- daily
# TODO - create time of day variable
library(here)
library(tidyverse)
library(padr)
d <- read_csv(here("/data_raw/BeFocused.csv"))
str(d)
d <- d[-1, ]
d <- d %>%
filter(`Assigned task` != "Other")
head(d$`Start date`)
d$date_full <- d$`Start date`
d <- d %>%
separate(date_full, into = c('Date', 'Time'), sep = 11)
d$Date <- as.Date(d$Date, format = "%d %b %Y")
d$hours <- d$Duration / 60
# Gather tasks into categories
unique(d$`Assigned task`)
d$category <- ifelse(d$`Assigned task` %in% c("YABP", "Experiment In Art", "Summoner Of Games", "Data Science Explorer", "YABP", "RPG Prep", "Correspondance"), "Craft",
ifelse(d$`Assigned task` == "P.S Work High Value", "Work",
ifelse(d$`Assigned task` == "Wealth", "Wealth",
ifelse(d$`Assigned task` == "Study", "Study", "Other"))))
# library(dplyr)
# library(lubridate)
#
# df2 %>% mutate(week = (year(Order_Date) - year(min(Order_Date)))*52 +
#                  week(Order_Date) - week(min(Order_Date)),
#                week2 = (as.numeric(Order_Date) %/% 7) - (as.numeric(min(Order_Date)) %/% 7)) %>%
#   arrange(Order_Date)
write_csv(d, "data_transformed/curated_BeFocused.csv")
# What is a normal day like?
daily_all <- d %>%
pad %>%
group_by(Date) %>%
summarise(hours_in_day = sum(hours, na.rm = T))
daily_all$avail_time <- 8
daily_all$focused_prop <- round((daily_all$hours_in_day / daily_all$avail_time), digits = 2)
daily <-d %>%
group_by(Date, category) %>%
summarise(hours_in_day = sum(hours, na.rm = T))
write_csv(daily_all, "data_transformed/daily_all.csv")
# Trend of time spent
trend_type <- d %>%
group_by(Date, category) %>%
summarise(time_spent = sum(hours, na.rm = T))
write_csv(trend_type, "data_transformed/trend_type.csv")
overall_deep_work_score <- daily_all %>%
summarise(total_avail = sum(avail_time, na.rm = T),
total_focus = sum(hours_in_day, na.rm = T),
focus_score = total_focus / total_avail)
write_csv(overall_deep_work_score, "data_transformed/deep_work_score.csv")
# Deep Work quantity by day
ggplot(data = trend_type %>%
select(Date, time_spent) %>%
group_by(Date) %>%
summarise(total_per_day = sum(time_spent)), aes(x = Date, y = total_per_day)) +
geom_point() +
geom_smooth()
# Density
ggplot(data = d, aes(x = hours, fill = category)) +
geom_density(alpha = 0.2)
ggplot(data = daily, aes(x = category, y = hours_in_day, col = category)) +
geom_boxplot(alpha = 0.5) +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5)) +
coord_flip()
ggplot(data = daily_all, aes(x = hours_in_day)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
# Look at effective use of time
ggplot(data = daily_all, aes(x = focused_prop)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
# Trend of focus % over time - am I getting better or worse??
ggplot(data = daily_all, aes(x = Date, y = focused_prop)) +
geom_point() +
geom_smooth() +
theme_minimal()
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal()
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal() +
facet_wrap(~ category, nrow = 3)
# Create data which is daily info of number of hours by category
cat_names <- unique(daily$`Assigned task`)
ggplot(data = daily, aes(x = Date, y = hours_in_day, col = category)) +
geom_line() +
theme_minimal()
ggplot(data = daily, aes(x = hours_in_day)) +
geom_histogram() +
theme_minimal()
weekly <- daily
# What is weekly like?
library(lubridate)
weekly_test <- weekly  %>% mutate(week = (year(Date) - year(min(Date)))*52 +
week(Date) - week(min(Date)),
week2 = (as.numeric(Date) %/% 7) - (as.numeric(min(Date)) %/% 7)) %>%
arrange(Date)
View(weekly_test)
str(weekly)
?week
weekly_test_1 <- weekly %>%
mutate(week = week(Date))
View(weekly_test_1)
# Assign year as int
weekly$year <- ifelse(Date >= "2019-01-01", 2019, 2018)
# Assign year as int
weekly$year <- ifelse(weekly$Date >= "2019-01-01", 2019, 2018)
# What is weekly like?
library(lubridate)
weekly <- daily
# Assign week number
weekly <- weekly %>%
mutate(week = week(Date))
# Assign year as int
weekly$year <- ifelse(weekly$Date >= "2019-01-01", 2019, 2018)
weekly <- weekly %>%
group_by(week, category)
summarise(hours_in_week <- sum(hours_in_day))
weekly <- weekly %>%
group_by(week, category, hours_in_day)
summarise(hours_in_week <- sum(hours_in_day))
weekly <- weekly %>%
group_by(week, category)
summarise(hours_in_week = sum(hours_in_day))
weekly <- weekly %>%
group_by(week, category, hours_in_day) %>%
summarise(hours_in_week = sum(hours_in_day))
# What is weekly like?
library(lubridate)
weekly <- daily
# Assign week number
weekly <- weekly %>%
mutate(week = week(Date))
# Assign year as int
weekly$year <- ifelse(weekly$Date >= "2019-01-01", 2019, 2018)
# Collapse into weekly data
weekly <- weekly %>%
group_by(week, category,) %>%
summarise(hours_in_week = sum(hours_in_day))
# What is weekly like?
library(lubridate)
weekly <- daily
# Assign week number
weekly <- weekly %>%
mutate(week = week(Date))
# Assign year as int
weekly$year <- ifelse(weekly$Date >= "2019-01-01", 2019, 2018)
# Collapse into weekly data
weekly <- weekly %>%
group_by(week, category, year) %>%
summarise(hours_in_week = sum(hours_in_day))
write_csv(weekly, "data_transformed/weekly.csv")
ggplot(data = weekly, aes(x = week, y = hours_in_day, col = category)) +
geom_line() +
theme_minimal() +
facet_grid(. ~ year)
ggplot(data = weekly, aes(x = week, y = hours_in_week, col = category)) +
geom_line() +
theme_minimal() +
facet_grid(. ~ year)
ggplot(data = weekly, aes(x = week, y = hours_in_week)) +
geom_line() +
theme_minimal() +
facet_grid(. ~ year)
ggplot(data = weekly, aes(x = week, y = hours_in_week)) +
geom_line() +
theme_minimal() +
xlim(min(week)) +
facet_grid(. ~ year)
ggplot(data = weekly, aes(x = week, y = hours_in_week)) +
geom_line() +
theme_minimal() +
facet_grid(. ~ year)
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal()
ggplot(data = weekly, aes(x = hours_in_week, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal()
library(shiny)
library(here)
daily_all <- read_csv("../data_transformed/daily_all.csv")
library(tidyverse)
daily_all <- read_csv("../data_transformed/daily_all.csv")
daily_all <- read_csv("data_transformed/daily_all.csv")
runApp('Deep_Work_Supervisor')
library(here)
runApp('Deep_Work_Supervisor')
library(here)
library(tidyverse)
library(padr)
d <- read_csv(here("/data_raw/BeFocused.csv"))
d <- d[-1, ]
d <- d %>%
filter(`Assigned task` != "Other")
head(d$`Start date`)
d$date_full <- d$`Start date`
d <- d %>%
separate(date_full, into = c('Date', 'Time'), sep = 11)
d$Date <- as.Date(d$Date, format = "%d %b %Y")
d$hours <- d$Duration / 60
View(d)
d$duration <- 30
d$hours <- d$Duration / 60
d$Duration <- 30 # Assume 30mins spent including relax/reflect time
d$hours <- d$Duration / 60
d <- read_csv(here("/data_raw/BeFocused.csv"))
d <- d[-1, ]
d <- d %>%
filter(`Assigned task` != "Other")
head(d$`Start date`)
d$date_full <- d$`Start date`
d <- d %>%
separate(date_full, into = c('Date', 'Time'), sep = 11)
d$Date <- as.Date(d$Date, format = "%d %b %Y")
d$Duration <- 30 # Assume 30mins spent including relax/reflect time
d$hours <- d$Duration / 60
# Gather tasks into categories
unique(d$`Assigned task`)
d$category <- ifelse(d$`Assigned task` %in% c("YABP", "Experiment In Art", "Summoner Of Games", "Data Science Explorer", "YABP", "RPG Prep", "Correspondance"), "Craft",
ifelse(d$`Assigned task` == "P.S Work High Value", "Work",
ifelse(d$`Assigned task` == "Wealth", "Wealth",
ifelse(d$`Assigned task` == "Study", "Study", "Other"))))
write_csv(d, "data_transformed/curated_BeFocused.csv")
# What is a normal day like?
daily_all <- d %>%
pad %>%
group_by(Date) %>%
summarise(hours_in_day = sum(hours, na.rm = T))
daily_all$avail_time <- 8
daily_all$focused_prop <- round((daily_all$hours_in_day / daily_all$avail_time), digits = 2)
daily <-d %>%
group_by(Date, category) %>%
summarise(hours_in_day = sum(hours, na.rm = T))
write_csv(daily_all, "data_transformed/daily_all.csv")
# What is weekly like?
library(lubridate)
weekly <- daily
# Assign week number
weekly <- weekly %>%
mutate(week = week(Date))
# Assign year as int
weekly$year <- ifelse(weekly$Date >= "2019-01-01", 2019, 2018)
# Collapse into weekly data
weekly <- weekly %>%
group_by(week, category, year) %>%
summarise(hours_in_week = sum(hours_in_day))
# Export
write_csv(weekly, "data_transformed/weekly.csv")
# Trend of time spent
trend_type <- d %>%
group_by(Date, category) %>%
summarise(time_spent = sum(hours, na.rm = T))
write_csv(trend_type, "data_transformed/trend_type.csv")
overall_deep_work_score <- daily_all %>%
summarise(total_avail = sum(avail_time, na.rm = T),
total_focus = sum(hours_in_day, na.rm = T),
focus_score = total_focus / total_avail)
write_csv(overall_deep_work_score, "data_transformed/deep_work_score.csv")
# Deep Work quantity by day
ggplot(data = trend_type %>%
select(Date, time_spent) %>%
group_by(Date) %>%
summarise(total_per_day = sum(time_spent)), aes(x = Date, y = total_per_day)) +
geom_point() +
geom_smooth()
# Density
ggplot(data = d, aes(x = hours, fill = category)) +
geom_density(alpha = 0.2)
ggplot(data = daily, aes(x = category, y = hours_in_day, col = category)) +
geom_boxplot(alpha = 0.5) +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5)) +
coord_flip()
ggplot(data = daily_all, aes(x = hours_in_day)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
ggplot(data = daily_all, aes(x = hours_in_day)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
# Look at effective use of time
ggplot(data = daily_all, aes(x = focused_prop)) +
geom_histogram() +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
# Trend of focus % over time - am I getting better or worse??
ggplot(data = daily_all, aes(x = Date, y = focused_prop)) +
geom_point() +
geom_smooth() +
theme_minimal()
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal()
ggplot(data = weekly, aes(x = hours_in_week, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal()
ggplot(data = trend_type, aes(x = time_spent, fill = category)) +
geom_density(alpha = 0.5) +
theme_minimal() +
facet_wrap(~ category, nrow = 3)
ggplot(data = daily, aes(x = Date, y = hours_in_day, col = category)) +
geom_line() +
theme_minimal()
View(daily_all)
View(daily)
View(daily_all)
write_csv(daily_all, "data_transformed/daily.csv")
library(shiny)
library(here)
library(tidyverse)
daily_all <- read_csv("daily_all.csv")
daily <- read_csv("daily.csv")
runApp('Deep_Work_Supervisor')
daily_all <- read_csv("daily_all.csv")
daily <- read_csv("daily.csv")
library(shiny)
library(here)
library(tidyverse)
daily_all <- read_csv("daily_all.csv")
daily <- read_csv("daily.csv")
runApp('Deep_Work_Supervisor')
runApp('Deep_Work_Supervisor')
runApp('Deep_Work_Supervisor')
runApp('Deep_Work_Supervisor')
runApp('Deep_Work_Supervisor')
packrat::init()
shiny::runApp('Deep_Work_Supervisor')
shiny::runApp('Deep_Work_Supervisor')
shiny::runApp('Deep_Work_Supervisor')
runApp('Deep_Work_Supervisor')
dates <- as.Date(c("2019-01-01", "2019-01-02", "2019-12-30", "2019-12-31"))
dates <- as.data.frame(dates)
dates  <- dates %>%
pad()
library(here)
install.packages("here", repos = "https:www.rstudio.com")
install.packages("here", repos = "https://www.rstudio.com")
library(here)
install.packages("here")
library(here)
library(tidyverse)
install.packages("here")
library(here)
install.packages("tidyverse")
library(tidyverse)
install.packages("padr")
library(padr)
dates <- as.Date(c("2019-01-01", "2019-01-02", "2019-12-30", "2019-12-31"))
dates <- as.data.frame(dates)
dates  <- dates %>%
pad()
# Identify the weekends
weekends <- dates$dates[weekdays(dates$dates) %in% c("Saturday", "Sunday")]
# Identify public holidays
public_holidays <- as.Date(c("2019-01-01", "2019-01-28", "2019-03-11", "2019-04-19",
"2019-04-20", "2019-04-22", "2019-04-25", "2019-06-10",
"2019-10-07", "2019-12-24", "2019-12-25", "2019-12-26", "2019-12-31"))
# Identify vacation days x 20
vacations <- as.Date(c("2019-03-04", "2019-03-05", "2019-03-06", "2019-03-07", "2019-03-08",
"2019-07-01", "2019-07-02", "2019-07-03", "2019-07-04", "2019-07-05",
"2019-09-16", "2019-09-17", "2019-09-18", "2019-09-19", "2019-09-20",
"2019-11-04", "2019-11-05", "2019-11-06", "2019-11-07", "2019-11-08"))
# Create tags
dates$day_type <- ifelse(dates$dates %in% vacations, "vacation",
ifelse(dates$dates %in% public_holidays, "public_holiday",
ifelse(dates$dates %in% weekends, "weekend", "work")))
summary(as.factor(dates$day_type))
# Study target
dates$study_target <- ifelse(dates$dates %in% vacations, 0,
ifelse(dates$dates %in% public_holidays, 0,
ifelse(dates$dates %in% weekends, 2, 4)))
study_total_sessions <- sum(dates$study_target)
study_total_minutes <- study_total_sessions * 30
study_total_hours <- round(study_total_minutes / 60)
# Wealth target
dates$wealth_target <- ifelse(dates$dates %in% vacations, 0,
ifelse(dates$dates %in% public_holidays, 0,
ifelse(dates$dates %in% weekends, 2, 2)))
wealth_total_sessions <- sum(dates$wealth_target)
wealth_total_minutes <- wealth_total_sessions * 30
wealth_total_hours <- round(wealth_total_minutes / 60)
# Craft target
dates$craft_target <- ifelse(dates$dates %in% vacations, 4,
ifelse(dates$dates %in% public_holidays, 0,
ifelse(dates$dates %in% weekends, 4, 2)))
craft_total_sessions <- sum(dates$craft_target)
craft_total_minutes <- craft_total_sessions * 30
craft_total_hours <- round(craft_total_minutes / 60)
# Work target
dates$work_target <- ifelse(dates$dates %in% vacations, 0,
ifelse(dates$dates %in% public_holidays, 0,
ifelse(dates$dates %in% weekends, 0, 12)))
work_total_sessions <- sum(dates$work_target)
work_total_minutes <- work_total_sessions * 30
work_total_hours <- work_total_minutes / 60
work_deepwork_efficiency <- round(work_total_hours / 2080, digits = 2)
names(dates)
dates_tidy <- dates %>%
select( dates, day_type, study_target, wealth_target, craft_target, work_target) %>%
gather(session_type, session_count, 3:6) %>%
mutate(session_hours = round((session_count * 30) / 60))
View(dates_tidy)
View(dates)
View(dates_tidy)
write_csv(dates_tidy, "targets.csv")
write_csv(dates_tidy, "data_transformed/targets.csv")
actual <- read_csv("Deep_Work_Supervisor/trend_type.csv")
View(actual)
View(dates)
View(dates_tidy)
View(actual)
View(actual)
actual <- actual %>%
filter(category != "Other")
View(dates_tidy)
dates_tidy$category <- ifelse(dates_tidy$session_type == "work_target", "Work",
ifelse(dates_tidy$session_type == "study_target", "Study",
ifelse(dates_tidy$session_type == "craft_target", "Craft",
ifelse(dates_tidy$session_type == wealth_target, "Wealth"))))
unique(dates_tidy$session_type)
dates_tidy$category <- ifelse(dates_tidy$session_type == "work_target", "Work",
ifelse(dates_tidy$session_type == "study_target", "Study",
ifelse(dates_tidy$session_type == "craft_target", "Craft",
ifelse(dates_tidy$session_type == wealth_target, "Wealth"))))
dates_tidy$category <- ifelse(dates_tidy$session_type == "work_target", "Work",
ifelse(dates_tidy$session_type == "study_target", "Study",
ifelse(dates_tidy$session_type == "craft_target", "Craft",
ifelse(dates_tidy$session_type == "wealth_target", "Wealth"))))
dates_tidy$category <- ifelse(dates_tidy$session_type == "work_target", "Work",
ifelse(dates_tidy$session_type == "study_target", "Study",
ifelse(dates_tidy$session_type == "craft_target", "Craft",
ifelse(dates_tidy$session_type == "wealth_target", "Wealth", "Other"))))
progress_so_far <- dates_tidy %>%
left_join(actual, by = c("Date", "category"))
# Rename dates
dates_tidy$Date <- dates_tidy$dates
progress_so_far <- dates_tidy %>%
left_join(actual, by = c("Date", "category"))
View(progress_so_far)
